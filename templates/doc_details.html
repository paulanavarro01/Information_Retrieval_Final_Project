<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ doc.title }} - IRWA Search Engine</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Optional: Font Awesome for stars -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
<div class="container mt-4">

    <!-- Navigation -->
    <nav class="mb-4">
        <a href="/" class="btn btn-outline-primary btn-sm me-2">Home</a>
        <a href="/stats" class="btn btn-outline-secondary btn-sm me-2">Stats</a>
        <a href="/dashboard" class="btn btn-outline-success btn-sm">Dashboard</a>
    </nav>

    <!-- Product Details Card -->
    <div class="card mb-4 shadow-sm">
        <div class="row g-0">
            <!-- Product Image -->
            <div class="col-md-6 d-flex justify-content-center align-items-center p-3">
                {% if doc.images and doc.images[0] %}
                    <img src="{{ doc.images[0] }}" 
                        class="img-fluid rounded shadow-sm w-100"
                        style="height: auto; object-fit: contain; max-height: 600px;"
                        alt="{{ doc.title }}">
                {% else %}
                    <img src="https://via.placeholder.com/600x600?text=No+Image" 
                        class="img-fluid rounded shadow-sm w-100"
                        style="height: auto; object-fit: contain; max-height: 600px;"
                        alt="No image">
                {% endif %}
            </div>

            <!-- Product Info -->
            <div class="col-md-6">
                <div class="card-body">
                    <h2 class="card-title">{{ doc.title }}</h2>
                    
                    <!-- Price and Discount -->
                    <p class="card-text">
                        <strong>Price:</strong> 
                        {% if doc.discount %}
                        <span class="text-decoration-line-through">₹{{ doc.actual_price }}</span>
                        <span class="text-danger">₹{{ doc.selling_price }} ({{ doc.discount }}% off)</span>
                        {% else %}
                        ₹{{ doc.selling_price }}
                        {% endif %}
                    </p>

                    <!-- Rating -->
                    {% if doc.average_rating %}
                    <p class="card-text">
                        <strong>Rating:</strong>
                        {% for i in range(1,6) %}
                            {% if i <= doc.average_rating %}
                                <i class="fas fa-star text-warning"></i>
                            {% elif i - doc.average_rating < 1 %}
                                <i class="fas fa-star-half-alt text-warning"></i>
                            {% else %}
                                <i class="far fa-star text-warning"></i>
                            {% endif %}
                        {% endfor %}
                        ({{ doc.average_rating }}/5)
                    </p>
                    {% endif %}

                    <!-- Brand / Category -->
                    {% if doc.brand %}
                    <p><strong>Brand:</strong> {{ doc.brand }}</p>
                    {% endif %}
                    {% if doc.category %}
                    <p><strong>Category:</strong> {{ doc.category }}{% if doc.sub_category %} - {{ doc.sub_category }}{% endif %}</p>
                    {% endif %}

                    <!-- Description -->
                    <p class="card-text">{{ doc.description }}</p>

                    <!-- Seller -->
                    {% if doc.seller %}
                    <p><strong>Seller:</strong> {{ doc.seller }}</p>
                    {% endif %}

                    <!-- Product Details -->
                    {% if doc.product_details %}
                    <h5>Product Details:</h5>
                    <ul>
                        {% for key, value in doc.product_details.items() %}
                        <li><strong>{{ key }}:</strong> {{ value }}</li>
                        {% endfor %}
                    </ul>
                    {% endif %}

                    <!-- External Link -->
                    {% if doc.url %}
                    <a href="{{ doc.url }}" target="_blank" class="btn btn-primary mt-2">Go to Product Page</a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>

</div>
</body>
</html>
